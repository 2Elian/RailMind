# 单意图 单行数据 no 图谱
TYPE1_SINGLE_FIELD: str = """你是一个智能问答生成助手。你的任务是根据给定的列车信息表格生成**单字段查询**类型的问答（QA）对。  

- 要求 -
1. 每个 QA 对只涉及一个字段，例如：车次、始发站、终到站、到点、开点、候车厅、检票口或站台。
2. 问题必须自然、清晰、仅包含一个意图。例如：“K4547/6次列车的终到站是哪里？”
3. 答案必须直接从表格中得出，不要推测或生成额外信息。
4. 输出必须严格为 **JSON 数组**，不要包含任何解释性文字或额外文本。
5. 每个 QA 对必须包含以下字段：
   - question: 问题文本
   - answer: 答案文本
6. 每个 QA 对尽量覆盖表格中1-3个不同的字段，不得超过3个。
7. 输出 JSON 必须可直接解析，不能包含额外说明或多余字符。

- 表格示例 -
车次\t始发站\t终到站\t到点\t开点\t候车厅\t检票口\t站台
K4547/6\t成都西\t佳木斯\t23:40\t0:12\t综合候乘中心，高架候车区西区\t1B\t2

- 输出示例 -
[
  {{
    "question": "K4547/6次列车的始发站是哪里？",
    "answer": "成都西",
  }},
  {{
    "question": "K4547/6次列车从哪里开向哪里？",
    "answer": "成都西到佳木斯",
  }},
  {{
    "question": "K4547/6次列车的检票口是几号？",
    "answer": "1B",
  }}
]

以下是你需要生成 QA 对的表格数据：
车次\t始发站\t终到站\t到点\t开点\t候车厅\t检票口\t站台
{train_no}\t{start_station}\t{end_station}\t{arrival_time}\t{departure_time}\t{waiting_hall}\t{ticket_gate}\t{platform}
"""

# 多意图 单行数据 我想知道K4547/6次列车的始发站是什么，它的候车厅在哪里？
TYPE2_MULTI_FILTER = """你是一名智能问答生成助手。你的任务是根据给定的列车信息生成 **多意图** 问答对，其中每个问题同时包含两个或多个查询意图，例如：

- “我想知道K4547/6次列车的始发站是什么，它的候车厅在哪里？”
- “这趟车的到点时间和站台分别是多少？”
- “该列车的终到站和检票口是什么？”

---

# 生成要求

1. **问题（question）** 必须同时包含至少两个字段的查询，例如始发站 + 候车厅、检票口 + 站台等。
2. **答案（answer）** 必须同时回答问题中的所有意图，且完全来源于给定数据，不得推测。
3. 输出结果必须严格为 **JSON 数组**，不包含任何解释性文字。
4. JSON 中每个对象必须包含：
   - question：原问题
   - answer：根据表格内容总结的答案（可以是简单句或并列短句）
5. 输出 JSON 必须可直接解析，无多余字符。
6. 多意图的字段组合应尽量丰富，不要重复同一种组合。

---

# 输入表格示例
车次\t始发站\t终到站\t到点\t开点\t候车厅\t检票口\t站台  
K4547/6\t成都西\t佳木斯\t23:40\t0:12\t综合候乘中心\t1B\t2

---

# 输出示例
[
  {{
    "question": "我想了解K4547/6次列车的始发站是什么，以及它的候车厅在哪里？",
    "answer": "K4547/6次列车的始发站是成都西，候车厅在综合候乘中心。"
  }},
  {{
    "question": "这趟K4547/6次列车的到点时间是多少，站台又是几号？",
    "answer": "K4547/6次列车到点时间为23:40，站台为2号。"
  }}
]

---

以下是你需要生成 QA 对的列车信息：  
车次：{train_no}  
始发站：{start_station}  
终到站：{end_station}  
到点：{arrival_time}  
开点：{departure_time}  
候车厅：{waiting_hall}  
检票口：{ticket_gate}  
站台：{platform}
"""


# 单意图 多行数据 no 图谱 如“在综合候乘中心候车、发车时间晚于08:00的列车有哪些？”
TYPE3_MULTI_ROW_SINGLE_INTENT = """
你是一个智能问答生成助手。你的任务是根据给定的多条列车数据，生成**单意图（single-intent）多行过滤查询**类型的问答（QA）对。

【要求】
1. 问题必须只包含一个查询意图，但该意图可包含多个过滤条件（如场景条件、时间条件、站台条件等）。
2. 筛选条件可以是任意字段的组合：候车厅、开点、到点、站台、车次、始发站、终到站等。
3. 答案必须是所有 **满足条件的列车车次列表**，例如：["K4547/6", "Z362"]。
4. 如果没有符合条件的列车，输出空数组：[]。
5. 输出严格为 **JSON 数组**，每个对象包含：
   - question：自然语言问题（包含明确过滤条件）
   - answer：车次列表（数组）
6. 不允许解释性文字，不允许额外文本，必须可直接解析。

【示例】
输入数据：
车次\t始发站\t终到站\t到点\t开点\t候车厅\t检票口\t站台
K4547/6\t成都西\t佳木斯\t23:40\t0:12\t综合候乘中心\t1B\t2
Z362\t乌鲁木齐\t南通\t0:10\t0:21\t综合候乘中心\t5B\t1

示例输出：
[
  {{
    "question": "在综合候乘中心候车、发车时间晚于08:00的列车有哪些？",
    "answer": ["K4547/6"]
  }}
]

【以下是你需要生成 QA 对的表格数据】
{table}
"""



GEN_PROMPT = {
    "TYPE1": TYPE1_SINGLE_FIELD,
    "TYPE2": TYPE2_MULTI_FILTER,
    "TYPE3": TYPE3_MULTI_ROW_SINGLE_INTENT
}